<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced QR Code Generator â€“ ToolMatrix</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qr-code-styling/1.6.0/qr-code-styling.js"></script>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:#ffffff;
    color:#111;
}
.container{
    max-width:1100px;
    margin:auto;
    padding:40px 20px;
}
.card{
    background:#f5f7fa;
    padding:30px;
    border-radius:15px;
    box-shadow:0 0 20px rgba(0,0,0,0.08);
}
h1{
    text-align:center;
    font-size:32px;
    margin-bottom:25px;
}
.grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:25px;
}
input,select{
    width:100%;
    padding:12px;
    margin-bottom:12px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:16px;
}
button{
    padding:12px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:bold;
    background:#2563eb;
    color:#fff;
    font-size:16px;
}
#qrPreview{
    display:flex;
    justify-content:center;
    margin-top:20px;
}
@media(max-width:768px){
    .grid{grid-template-columns:1fr;}
}
</style>
</head>
<body>

<div class="container">
<div class="card">

<h1>Advanced QR Code Generator</h1>

<div class="grid">

<div>

<input type="text" id="qrText" placeholder="Enter URL or Text">

<select id="gradient">
<option value="none">No Gradient</option>
<option value="blue">Blue Gradient</option>
<option value="purple">Purple Gradient</option>
<option value="red">Red Gradient</option>
<option value="green">Green Gradient</option>
<option value="orange">Orange Gradient</option>
</select>

<select id="bodyShape">
<option value="square">Square Body</option>
<option value="dots">Dots Body</option>
<option value="rounded">Rounded Body</option>
</select>

<select id="eyeShape">
<option value="square">Square Eye</option>
<option value="circle">Circle Eye</option>
<option value="extra-rounded">Extra Rounded Eye</option>
</select>

<input type="color" id="customColor" value="#000000">

<input type="range" id="sizeRange" min="200" max="600" value="300">
<label>Size: <span id="sizeValue">300</span>px</label>

<select id="socialLogo">
<option value="">No Social Logo</option>
<option value="https://cdn-icons-png.flaticon.com/512/733/733547.png">Facebook</option>
<option value="https://cdn-icons-png.flaticon.com/512/733/733558.png">Instagram</option>
<option value="https://cdn-icons-png.flaticon.com/512/733/733579.png">Twitter</option>
<option value="https://cdn-icons-png.flaticon.com/512/733/733609.png">YouTube</option>
</select>

<input type="file" id="logoUpload">

<button onclick="generateQR()">Generate QR Code</button>
<button onclick="downloadQR()">Download QR</button>

</div>

<div>
<div id="qrPreview"></div>
</div>

</div>

</div>
</div>

<script>

let qrCode = new QRCodeStyling({
    width:300,
    height:300,
    data:"https://toolmatrix.live",
    image:"",
    dotsOptions:{color:"#000",type:"square"},
    backgroundOptions:{color:"#ffffff"},
});

qrCode.append(document.getElementById("qrPreview"));

document.getElementById("sizeRange").addEventListener("input",function(){
    document.getElementById("sizeValue").innerText=this.value;
});

function generateQR(){

    let text = document.getElementById("qrText").value;
    let gradientType = document.getElementById("gradient").value;
    let bodyShape = document.getElementById("bodyShape").value;
    let eyeShape = document.getElementById("eyeShape").value;
    let customColor = document.getElementById("customColor").value;
    let size = document.getElementById("sizeRange").value;
    let socialLogo = document.getElementById("socialLogo").value;

    let gradientColors = {
        blue:["#2563eb","#60a5fa"],
        purple:["#7c3aed","#c084fc"],
        red:["#dc2626","#f87171"],
        green:["#16a34a","#4ade80"],
        orange:["#ea580c","#fdba74"]
    };

    let dotsOptions = {
        type:bodyShape,
        color:customColor
    };

    if(gradientType !== "none"){
        dotsOptions = {
            type:bodyShape,
            gradient:{
                type:"linear",
                rotation:0,
                colorStops:[
                    {offset:0,color:gradientColors[gradientType][0]},
                    {offset:1,color:gradientColors[gradientType][1]}
                ]
            }
        };
    }

    qrCode.update({
        width:Number(size),
        height:Number(size),
        data:text,
        image:socialLogo,
        dotsOptions:dotsOptions,
        cornersSquareOptions:{type:eyeShape},
        cornersDotOptions:{type:eyeShape}
    });

    let file = document.getElementById("logoUpload").files[0];
    if(file){
        let reader = new FileReader();
        reader.onload=function(e){
            qrCode.update({image:e.target.result});
        }
        reader.readAsDataURL(file);
    }

}

function downloadQR(){
    qrCode.download({name:"custom-qr",extension:"png"});
}

</script>

</body>
</html>
